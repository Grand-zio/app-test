import uiautomator2 as u2
import os
import time
# from util.Files import save_screen_img
# from getpath import get_abs_path
import uiautomator2 as u2
import multiprocessing

d = u2.connect("10.15.20.72:20001")
print(d.info)


# d.app_start("com.tencent.mm", wait=True)
# print(d.watcher)
# d.press("home")
# d.press("home")
#
# # save_screen_img(d, "手机首页", "c2a1596b")
# d(description="第2屏").click()
# # save_screen_img(d, "微信首页", "c2a1596b")
# # d(resourceId="com.tencent.mm:id/cns", text="通讯录").click()
# d(resourceId="com.tencent.mm:id/dy5", text="Neptune").click()
# d(resourceId="com.tencent.mm:id/g6f", text="发消息").click()
#
# d.app_stop("com.tencent.mm")
# com.tencent.mm
# d.press("home")
# d.press("home")
#
# time.sleep(1)
# save_screen_img(d, "手机首页", "c2a1596b")
# time.sleep(1)
#
# d(description="第2屏").click()
# d(resourceId="com.miui.home:id/icon_title", text="微信").click()
#
# time.sleep(1)
# save_screen_img(d, "微信首页", "c2a1596b")
# time.sleep(1)
#
# d(resourceId="com.tencent.mm:id/cns", text="通讯录").click()
# d(resourceId="com.tencent.mm:id/dy5", text="Neptune").click()
# d(resourceId="com.tencent.mm:id/g6f", text="发消息").click()
# time.sleep(1)
# save_screen_img(d, "聊天页", "c2a1596b")
# time.sleep(1)
#
# d.send_keys("5616", clear=True)
# # input_ele = d(resourceId="com.tencent.mm:id/g78")
# # input_ele.send_keys("18551042861")
# time.sleep(1)
# # input_ele.click()
# # time.sleep(1)
# save_screen_img(d, "聊天页发送前", "c2a1596b")
# time.sleep(1)
# d(resourceId="com.tencent.mm:id/anv").click()
# time.sleep(1)
# save_screen_img(d, "聊天页发送后", "c2a1596b")
# d(resourceId="com.tencent.mm:id/rr").click()










# im.save()


# d.xpath('//*[@content-desc="微信"]/android.widget.FrameLayout[1]/android.widget.FrameLayout[1]/android.widget.ImageView[1]').click()
# d.xpath('//*[@resource-id="com.tencent.mm:id/czl"]/android.widget.LinearLayout[1]/android.widget.RelativeLayout[3]/android.widget.LinearLayout[1]').click()
# d.xpath('//*[@resource-id="android:id/list"]/android.widget.LinearLayout[10]/android.widget.LinearLayout[1]/android.widget.LinearLayout[1]/android.widget.LinearLayout[1]').click()
# d.xpath('//android.support.v7.widget.RecyclerView/android.widget.RelativeLayout[1]/android.widget.LinearLayout[1]').click_exists()
# d.press("home")
#
# print(d(className="android.widget.ImageView"))


























